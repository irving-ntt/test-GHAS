# This is a Databricks asset bundle definition for JenkinsPipeline.
# See https://docs.databricks.com/dev-tools/bundles/index.html for documentation.
bundle:
  name: Deploy-wf_hijos-ID_BUILD
include:
  - ./*.yaml

targets:
  qa:
    mode: production
    # permissions:
    #   - group_name : developers-mit
    #     level: CAN_MANAGE
    workspace:
      # host: https://adb-3925217763478917.17.azuredatabricks.net/
      host: https://adb-2693506096277586.6.azuredatabricks.net/
      root_path: /Users/${workspace.current_user.userName}/workflows_hijos
      file_path: /Users/${workspace.current_user.userName}/workflows_hijos
      artifact_path: /Users/${workspace.current_user.userName}/deploy-stage/workflows_hijos/${bundle.name}/${bundle.target}/
      state_path: /Users/${workspace.current_user.userName}/deploy-stage/workflows_hijos/${bundle.name}/${bundle.target}/
    run_as:
      user_name: ${workspace.current_user.userName}

  prod:
    mode: production
    # permissions:
    #   - group_name : prod-operaciones5.0-soporte
    #     level: CAN_MANAGE
    workspace:
      # host: https://adb-1051909841828239.19.azuredatabricks.net/
      host: https://adb-2693506096277586.6.azuredatabricks.net/
      root_path: /Users/${workspace.current_user.userName}/deploy/workflows_hijos/${bundle.name}/${bundle.target}
    run_as:
      service_principal_name: ${workspace.current_user.userName}
